{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\maritime-auth\\\\vessel-frontend\\\\src\\\\Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport api from \"./api\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const [username, setU] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setP] = useState(\"\");\n  const [role, setRole] = useState(\"Analyst\"); // default role\n  const [err, setErr] = useState(\"\");\n  const [ok, setOk] = useState(\"\");\n  const nav = useNavigate();\n  const submit = async e => {\n    e.preventDefault();\n    setErr(\"\");\n    setOk(\"\");\n    try {\n      // 1) Call backend to create user\n      const res = await api.post(\"auth/register/\", {\n        username,\n        email,\n        password,\n        role\n      });\n      console.log(\"Register success:\", res.data);\n\n      // 2) Show success and send to login\n      setOk(\"Registration successful! Please login with your new account.\");\n      alert(\"Registration successful! Now login with your username & password.\");\n      nav(\"/\"); // go to Login page\n    } catch (e) {\n      var _e$response, _e$response2, _e$response3, _e$response3$data, _e$response4;\n      console.error(\"Register error:\", ((_e$response = e.response) === null || _e$response === void 0 ? void 0 : _e$response.data) || e);\n      if (((_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : _e$response2.status) === 400 && (_e$response3 = e.response) !== null && _e$response3 !== void 0 && (_e$response3$data = _e$response3.data) !== null && _e$response3$data !== void 0 && _e$response3$data.username) {\n        setErr(\"Username already exists. Please choose another username.\");\n      } else if (((_e$response4 = e.response) === null || _e$response4 === void 0 ? void 0 : _e$response4.status) === 400) {\n        setErr(\"Invalid data. Use password at least 6 characters.\");\n      } else {\n        setErr(\"Registration failed. Please try again.\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Create Account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"auth-input\",\n        placeholder: \"Username\",\n        value: username,\n        onChange: e => setU(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"auth-input\",\n        placeholder: \"Email (optional)\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"auth-input\",\n        type: \"password\",\n        placeholder: \"Password (min 6 chars)\",\n        value: password,\n        onChange: e => setP(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"auth-input\",\n        value: role,\n        onChange: e => setRole(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Operator\",\n          children: \"Operator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Analyst\",\n          children: \"Analyst\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Admin\",\n          children: \"Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"auth-btn\",\n        type: \"submit\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), err && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"auth-error\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }, this), ok && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"green\"\n      },\n      children: ok\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-link\",\n      children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"t4X36XqD12AuLf3tHMjEcLXc9EQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","api","useNavigate","Link","jsxDEV","_jsxDEV","Register","_s","username","setU","email","setEmail","password","setP","role","setRole","err","setErr","ok","setOk","nav","submit","e","preventDefault","res","post","console","log","data","alert","_e$response","_e$response2","_e$response3","_e$response3$data","_e$response4","error","response","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","value","onChange","target","required","type","style","color","to","_c","$RefreshReg$"],"sources":["C:/Users/DELL/maritime-auth/vessel-frontend/src/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport api from \"./api\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\n\r\nexport default function Register() {\r\n  const [username, setU] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setP] = useState(\"\");\r\n  const [role, setRole] = useState(\"Analyst\"); // default role\r\n  const [err, setErr] = useState(\"\");\r\n  const [ok, setOk] = useState(\"\");\r\n  const nav = useNavigate();\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    setErr(\"\");\r\n    setOk(\"\");\r\n\r\n    try {\r\n      // 1) Call backend to create user\r\n      const res = await api.post(\"auth/register/\", {\r\n        username,\r\n        email,\r\n        password,\r\n        role,\r\n      });\r\n      console.log(\"Register success:\", res.data);\r\n\r\n      // 2) Show success and send to login\r\n      setOk(\"Registration successful! Please login with your new account.\");\r\n      alert(\"Registration successful! Now login with your username & password.\");\r\n      nav(\"/\"); // go to Login page\r\n    } catch (e) {\r\n      console.error(\"Register error:\", e.response?.data || e);\r\n\r\n      if (e.response?.status === 400 && e.response?.data?.username) {\r\n        setErr(\"Username already exists. Please choose another username.\");\r\n      } else if (e.response?.status === 400) {\r\n        setErr(\"Invalid data. Use password at least 6 characters.\");\r\n      } else {\r\n        setErr(\"Registration failed. Please try again.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-container\">\r\n      <h2>Create Account</h2>\r\n\r\n      <form onSubmit={submit}>\r\n        <input\r\n          className=\"auth-input\"\r\n          placeholder=\"Username\"\r\n          value={username}\r\n          onChange={(e) => setU(e.target.value)}\r\n          required\r\n        />\r\n\r\n        <input\r\n          className=\"auth-input\"\r\n          placeholder=\"Email (optional)\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n\r\n        <input\r\n          className=\"auth-input\"\r\n          type=\"password\"\r\n          placeholder=\"Password (min 6 chars)\"\r\n          value={password}\r\n          onChange={(e) => setP(e.target.value)}\r\n          required\r\n        />\r\n\r\n        <select\r\n          className=\"auth-input\"\r\n          value={role}\r\n          onChange={(e) => setRole(e.target.value)}\r\n        >\r\n          <option value=\"Operator\">Operator</option>\r\n          <option value=\"Analyst\">Analyst</option>\r\n          <option value=\"Admin\">Admin</option>\r\n        </select>\r\n\r\n        <button className=\"auth-btn\" type=\"submit\">\r\n          Register\r\n        </button>\r\n      </form>\r\n\r\n      {err && <p className=\"auth-error\">{err}</p>}\r\n      {ok && <p style={{ color: \"green\" }}>{ok}</p>}\r\n\r\n      <div className=\"auth-link\">\r\n        Already have an account? <Link to=\"/\">Login</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,GAAG,MAAM,OAAO;AACvB,SAASC,WAAW,EAAEC,IAAI,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,eAAe,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EACjC,MAAM,CAACC,QAAQ,EAAEC,IAAI,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACrC,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACY,QAAQ,EAAEC,IAAI,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACrC,MAAM,CAACc,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACgB,GAAG,EAAEC,MAAM,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACkB,EAAE,EAAEC,KAAK,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAChC,MAAMoB,GAAG,GAAGlB,WAAW,CAAC,CAAC;EAEzB,MAAMmB,MAAM,GAAG,MAAOC,CAAC,IAAK;IAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBN,MAAM,CAAC,EAAE,CAAC;IACVE,KAAK,CAAC,EAAE,CAAC;IAET,IAAI;MACF;MACA,MAAMK,GAAG,GAAG,MAAMvB,GAAG,CAACwB,IAAI,CAAC,gBAAgB,EAAE;QAC3CjB,QAAQ;QACRE,KAAK;QACLE,QAAQ;QACRE;MACF,CAAC,CAAC;MACFY,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEH,GAAG,CAACI,IAAI,CAAC;;MAE1C;MACAT,KAAK,CAAC,8DAA8D,CAAC;MACrEU,KAAK,CAAC,mEAAmE,CAAC;MAC1ET,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,OAAOE,CAAC,EAAE;MAAA,IAAAQ,WAAA,EAAAC,YAAA,EAAAC,YAAA,EAAAC,iBAAA,EAAAC,YAAA;MACVR,OAAO,CAACS,KAAK,CAAC,iBAAiB,EAAE,EAAAL,WAAA,GAAAR,CAAC,CAACc,QAAQ,cAAAN,WAAA,uBAAVA,WAAA,CAAYF,IAAI,KAAIN,CAAC,CAAC;MAEvD,IAAI,EAAAS,YAAA,GAAAT,CAAC,CAACc,QAAQ,cAAAL,YAAA,uBAAVA,YAAA,CAAYM,MAAM,MAAK,GAAG,KAAAL,YAAA,GAAIV,CAAC,CAACc,QAAQ,cAAAJ,YAAA,gBAAAC,iBAAA,GAAVD,YAAA,CAAYJ,IAAI,cAAAK,iBAAA,eAAhBA,iBAAA,CAAkBzB,QAAQ,EAAE;QAC5DS,MAAM,CAAC,0DAA0D,CAAC;MACpE,CAAC,MAAM,IAAI,EAAAiB,YAAA,GAAAZ,CAAC,CAACc,QAAQ,cAAAF,YAAA,uBAAVA,YAAA,CAAYG,MAAM,MAAK,GAAG,EAAE;QACrCpB,MAAM,CAAC,mDAAmD,CAAC;MAC7D,CAAC,MAAM;QACLA,MAAM,CAAC,wCAAwC,CAAC;MAClD;IACF;EACF,CAAC;EAED,oBACEZ,OAAA;IAAKiC,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC7BlC,OAAA;MAAAkC,QAAA,EAAI;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEvBtC,OAAA;MAAMuC,QAAQ,EAAEvB,MAAO;MAAAkB,QAAA,gBACrBlC,OAAA;QACEiC,SAAS,EAAC,YAAY;QACtBO,WAAW,EAAC,UAAU;QACtBC,KAAK,EAAEtC,QAAS;QAChBuC,QAAQ,EAAGzB,CAAC,IAAKb,IAAI,CAACa,CAAC,CAAC0B,MAAM,CAACF,KAAK,CAAE;QACtCG,QAAQ;MAAA;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eAEFtC,OAAA;QACEiC,SAAS,EAAC,YAAY;QACtBO,WAAW,EAAC,kBAAkB;QAC9BC,KAAK,EAAEpC,KAAM;QACbqC,QAAQ,EAAGzB,CAAC,IAAKX,QAAQ,CAACW,CAAC,CAAC0B,MAAM,CAACF,KAAK;MAAE;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC,eAEFtC,OAAA;QACEiC,SAAS,EAAC,YAAY;QACtBY,IAAI,EAAC,UAAU;QACfL,WAAW,EAAC,wBAAwB;QACpCC,KAAK,EAAElC,QAAS;QAChBmC,QAAQ,EAAGzB,CAAC,IAAKT,IAAI,CAACS,CAAC,CAAC0B,MAAM,CAACF,KAAK,CAAE;QACtCG,QAAQ;MAAA;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eAEFtC,OAAA;QACEiC,SAAS,EAAC,YAAY;QACtBQ,KAAK,EAAEhC,IAAK;QACZiC,QAAQ,EAAGzB,CAAC,IAAKP,OAAO,CAACO,CAAC,CAAC0B,MAAM,CAACF,KAAK,CAAE;QAAAP,QAAA,gBAEzClC,OAAA;UAAQyC,KAAK,EAAC,UAAU;UAAAP,QAAA,EAAC;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC1CtC,OAAA;UAAQyC,KAAK,EAAC,SAAS;UAAAP,QAAA,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACxCtC,OAAA;UAAQyC,KAAK,EAAC,OAAO;UAAAP,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9B,CAAC,eAETtC,OAAA;QAAQiC,SAAS,EAAC,UAAU;QAACY,IAAI,EAAC,QAAQ;QAAAX,QAAA,EAAC;MAE3C;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EAEN3B,GAAG,iBAAIX,OAAA;MAAGiC,SAAS,EAAC,YAAY;MAAAC,QAAA,EAAEvB;IAAG;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAC1CzB,EAAE,iBAAIb,OAAA;MAAG8C,KAAK,EAAE;QAAEC,KAAK,EAAE;MAAQ,CAAE;MAAAb,QAAA,EAAErB;IAAE;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAE7CtC,OAAA;MAAKiC,SAAS,EAAC,WAAW;MAAAC,QAAA,GAAC,2BACA,eAAAlC,OAAA,CAACF,IAAI;QAACkD,EAAE,EAAC,GAAG;QAAAd,QAAA,EAAC;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/C,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACpC,EAAA,CA7FuBD,QAAQ;EAAA,QAOlBJ,WAAW;AAAA;AAAAoD,EAAA,GAPDhD,QAAQ;AAAA,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}